mutation connect (
    $mapId: String!
) {
    connect(mapId: $mapId) {
        mapDefine {
            name
            useMaps
            defaultMapKind
            options {
                popupMode
                itemLabel
                visibleDataSources {
                    ... on VisibleDataSourceDatasource {
                        dataSourceId
                    }
                    ... on VisibleDataSourceGroup {
                        group
                    }
                }
                guestUserAuthLevel
                newUserAuthLevel
                usePanels
                contentsSortCondition
                options
            }
        }
        connect {
            sid
            authLv
            userId
            userName
        }
    }
}
mutation disconnect {
    disconnect
}

mutation switchMapKind (
    $mapKind: MapKind!
) {
    switchMapKind (
        mapKind: $mapKind
    ) {
        extent
        itemDataSources {
            datasourceId
            name
            groupName
            initialVisible
            config
        }
        contentDataSources {
            datasourceId
            name
            config
        }
        originalIcons {
            id
            caption
            imagePath
            useMaps
        }
    }
}

mutation registItem (
    $datasourceId: String!
    $name: String
    $geometry: Geometry!
    $geoProperties: GeoProperties!
) {
    registItem (
        datasourceId: $datasourceId,
        name: $name,
        geometry: $geometry,
        geoProperties: $geoProperties
    )
}

mutation updateItems (
    $targets: [UpdateItemInput!]!
) {
    updateItems (
        targets: $targets
    ) {
        success
        error
    }
}

mutation removeItem (
    $id: DataId!
) {
    removeItem(
        id: $id
    )
}

mutation registContent (
    $parent: ParentInput!
    $datasourceId: String!

    $title: String!
    $values: ContentValueMap!
    $type: ContentType!
    $imageUrl: String
) {
    registContent(
        parent: $parent
        datasourceId: $datasourceId
        title: $title
        values: $values
        type: $type
        imageUrl: $imageUrl
    )
}

mutation updateContent (
    $id: DataId!
    $title: String
    $values: ContentValueMap!
    $type: ContentType!
    $imageUrl: String
    $deleteImage: Boolean
) {
    updateContent(
        id: $id
        title: $title
        values: $values
        type: $type
        imageUrl: $imageUrl
        deleteImage: $deleteImage
    )
}

mutation linkContent (
    $id: DataId!
    $parent: ParentInput!
) {
    linkContent (
        id: $id
        parent: $parent
    )
}

mutation unlinkContent (
    $id: DataId!
    $parent: ParentInput!
) {
    unlinkContent (
        id: $id
        parent: $parent
    )
}

mutation removeContent (
    $id: DataId!
) {
    removeContent (
        id: $id
    )
}

mutation changeAuthLevel (
    $userId: ID!
    $authLv: Auth!
) {
    changeAuthLevel(
        userId: $userId
        authLv: $authLv
    )
}

mutation request (
    $mapId: String!
    $name: String!
) {
    request(
        mapId: $mapId
        name: $name
    )
}

mutation linkContentsDatasource (
    $contentsDatasources: [ContentsDatasourceInput!]!
) {
    linkContentsDatasource (
        contentsDatasources: $contentsDatasources,
    )
}

mutation unlinkContentsDatasource (
    $contentsDatasourceIds: [String!]!
) {
    unlinkContentsDatasource (
        contentsDatasourceIds: $contentsDatasourceIds,
    )
}
